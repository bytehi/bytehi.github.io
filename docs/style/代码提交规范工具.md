# 代码提交规范工具

## lint-staged

- [lint-staged官方文档](https://www.npmjs.com/package/lint-staged)

作用：在git工作暂存区筛选出仅发生变更的文件

## husky

- [husky官方文档](https://typicode.github.io/husky/)

作用：

### 安装 husky

```sh
pnpm add -D husky 
```

### 初始化 husky

```sh
pnpm exec husky init
```

### 添加 husky 配置

package.json

```json
{
  "hooks": {
    "commit-msg": "commitlint -E HUSKY_GIT_PARAMS"
  }
}
```

## commitlint

- [commitlint官方文档](https://commitlint.js.org)

### 安装commitlint

```sh
pnpm add --save-dev @commitlint/{cli,config-conventional}
```

### 添加commitlint配置

执行以下命令，在项目根目录下创建配置文件：

```sh
commitlint --config commitlint.config.js
```

echo指令创建

```sh
echo "export default { extends: ['@commitlint/config-conventional'] };" > commitlint.config.js
```

## cz-commitlint

### 安装

```sh
pnpm add -D @commitlint/cz-commitlint commitizen inquirer@9
```

### 添加配置

修改package.json

```json
{
  "scripts": {
    "commit": "git-cz"
  },
  "config": {
    "commitizen": {
      "path": "@commitlint/cz-commitlint"
    }
  }
}
```

## commitizen

安装

```sh
pnpm add -D commitizen cz-conventional-changelog 
```

package.json添加配置

```js
"config": {
 "commitizen": {
    "path": "./node_modules/cz-conventional-changelog"
 }
}
```
