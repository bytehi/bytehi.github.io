# 代码格式规范工具

## VSCode

setting.json

待补充...

### editorConfig

在项目根目录创建 .editorconfig 文件，并添加相关配置，以确保每个人访问项目的vscode编辑器配置保持一致

```sh
# http://editorconfig.org
root = true

# 表示所有文件适用
[*]
# 设置文件字符集为 utf-8
charset = utf-8 
# 控制换行类型(lf | cr | crlf)
end_of_line = lf 
# 缩进风格（tab | space）
indent_style = tab 
# 始终在文件末尾插入一个新行
insert_final_newline = true 

# 表示仅 md 文件适用以下规则
[*.md]
# 关闭最大行长度限制
max_line_length = off 
# 关闭末尾空格修剪
trim_trailing_whitespace = false 
```

## eslint

### eslint忽略配置

在项目根目录新建 .eslintignore 文件，添加忽略文件， 根据实际情况添加指定目录或文件，ESLint 校验会忽略这些文件。

```js
// .eslintignore
dist
node_modules
public
.husky
.vscode
.idea
*.sh
*.md

src/assets

.eslintrc.cjs
.prettierrc.cjs
.stylelintrc.cjs
```

## stylelint

[官方文档](https://stylelint.io/user-guide/get-started)

### stylelint相关依赖

- stylelint-config-standard
- stylelint-config-recess-order
- stylelint-config-recommended-scss
- stylelint-config-standard-scss
- stylelint-config-standard-vue
- postcss-html
- postcss-scss

#### stylelint-config-standard

打开额外的规则来执行在规范和一些 CSS 样式指南中发现的通用约定，包括：惯用 CSS 原则，谷歌的 CSS 样式指南，Airbnb 的样式指南，和 @mdo 的代码指南。

#### stylelint-config-recess-order

css 属性的排序（插件包）

#### stylelint-config-recommended-scss

扩展 stylelint-config-recommended 共享配置，并为 SCSS 配置其规则
stylelint-config-standard-scss

扩展 stylelint-config-standard 共享配置，并为 SCSS 配置其规则

#### stylelint-config-standard-vue

扩展 stylelint-config-standard 配置，并为 Vue 配置其规则

#### post-html

解析 HTML (类似 HTML) 的 PostCSS 语法

#### post-scss

PostCSS 的 SCSS 解析器

### 安装stylelint依赖

```sh
pnpm add -D stylelint stylelint-config-standard-scss stylelint-config-recommended-vue postcss-html stylelint-config-recommended-scss
```

## prettier

- [官方文档](https://stylelint.io/user-guide/get-started)
- [playground](https://prettier.io/playground/)

### prettier相关依赖

- prettier

### prettier默认配置

```js
module.exports = {
  // (x)=>{},单个参数箭头函数是否显示小括号。(always:始终显示;avoid:省略括号。默认:always)
  arrowParens: "always",
  // 开始标签的右尖括号是否跟随在最后一行属性末尾，默认false
  bracketSameLine: false,
  // 对象字面量的括号之间打印空格 (true - Example: { foo: bar } ; false - Example: {foo:bar})
  bracketSpacing: true,
  // 是否格式化一些文件中被嵌入的代码片段的风格(auto|off;默认auto)
  embeddedLanguageFormatting: "auto",
  // 指定 HTML 文件的空格敏感度 (css|strict|ignore;默认css)
  htmlWhitespaceSensitivity: "css",
  // 当文件已经被 Prettier 格式化之后，是否会在文件顶部插入一个特殊的 @format 标记，默认false
  insertPragma: false,
  // 在 JSX 中使用单引号替代双引号，默认false
  jsxSingleQuote: false,
  // 每行最多字符数量，超出换行(默认80)
  printWidth: 120,
  // 超出打印宽度 (always | never | preserve )
  proseWrap: "preserve",
  // 对象属性是否使用引号(as-needed | consistent | preserve;默认as-needed:对象的属性需要加引号才添加;)
  quoteProps: "as-needed",
  // 是否只格式化在文件顶部包含特定注释(@prettier| @format)的文件，默认false
  requirePragma: false,
  // 结尾添加分号
  semi: true,
  // 使用单引号 (true:单引号;false:双引号)
  singleQuote: false,
  // 缩进空格数，默认2个空格
  tabWidth: 2,
  // 元素末尾是否加逗号，默认es5: ES5中的 objects, arrays 等会添加逗号，TypeScript 中的 type 后不加逗号
  trailingComma: "es5",
  // 指定缩进方式，空格或tab，默认false，即使用空格
  useTabs: false,
  // vue 文件中是否缩进 <style> 和 <script> 标签，默认 false
  vueIndentScriptAndStyle: false,
};

```

### prettier忽略配置

根目录新建 .prettierignore 文件，添加忽略配置如下：

```js
dist
node_modules
public
.husky
.vscode
.idea
*.sh
*.md

src/assets
```
